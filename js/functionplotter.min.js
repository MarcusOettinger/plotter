function getgraph(){for($("#funcs").submit(),intsopen(),$("#formula1").focus(),i=0;i<8;i++)changeselfcol(i)}function setback(){confirm("Delete all changes?")&&($("#funcs").reset(),getgraph())}function intsopen(){1==$("#sint1").prop("checked")?intshow(1):intclose(1),1==$("#sint2").prop("checked")?intshow(2):intclose(2),1==$("#sint3").prop("checked")?intshow(3):intclose(3)}function intshow(e){$("#formula"+e).removeClass("w190"),$("#intc"+e).removeClass("nodisplay"),$("#formula"+e).addClass("w120"),$("#intc"+e).addClass("display"),$("#cint"+e).focus()}function intclose(e){$("#formula"+e).removeClass("w120"),$("#intc"+e).removeClass("display"),$("#formula"+e).addClass("w190"),$("#intc"+e).addClass("nodisplay")}function loadg(){var e=$("#path").val();if(!e)return!1;$("#formula1").val(decodeURIComponent(e.substring(e.indexOf("&a1=")+4,e.indexOf("&a2=")))),$("#formula2").val(decodeURIComponent(e.substring(e.indexOf("&a2=")+4,e.indexOf("&a3=")))),$("#formula3").val(decodeURIComponent(e.substring(e.indexOf("&a3=")+4,e.indexOf("&a7=")))),$("#term1").prop("checked",1==e.substring(e.indexOf("&a7=")+4,e.indexOf("&a8="))),$("#term2").prop("checked",1==e.substring(e.indexOf("&a8=")+4,e.indexOf("&a9="))),$("#term3").prop("checked",1==e.substring(e.indexOf("&a9=")+4,e.indexOf("&b0="))),$("#width").val(e.substring(e.indexOf("&b0=")+4,e.indexOf("&b1="))),$("#height").val(e.substring(e.indexOf("&b1=")+4,e.indexOf("&b2="))),$("#rulex1").val(e.substring(e.indexOf("&b2=")+4,e.indexOf("&b3="))),$("#rulex2").val(e.substring(e.indexOf("&b3=")+4,e.indexOf("&b4="))),$("#ruley1").val(e.substring(e.indexOf("&b4=")+4,e.indexOf("&b5="))),$("#ruley2").val(e.substring(e.indexOf("&b5=")+4,e.indexOf("&b6="))),$("#intervalsx").val(e.substring(e.indexOf("&b6=")+4,e.indexOf("&b7="))),$("#intervalsy").val(e.substring(e.indexOf("&b7=")+4,e.indexOf("&b8="))),$("#linex").val(e.substring(e.indexOf("&b8=")+4,e.indexOf("&b9="))),$("#liney").val(e.substring(e.indexOf("&b9=")+4,e.indexOf("&c0="))),$("#deci").val(e.substring(e.indexOf("&c0=")+4,e.indexOf("&c1="))),$("#mid").val(e.substring(e.indexOf("&c1=")+4,e.indexOf("&c2="))),$("#lines").prop("checked",1==e.substring(e.indexOf("&c2=")+4,e.indexOf("&c3="))),$("#numbers").prop("checked",1==e.substring(e.indexOf("&c3=")+4,e.indexOf("&c4="))),$("#dashes").prop("checked",1==e.substring(e.indexOf("&c4=")+4,e.indexOf("&c5="))),$("#frame").prop("checked",1==e.substring(e.indexOf("&c5=")+4,e.indexOf("&c6="))),$("#errors").prop("checked",1==e.substring(e.indexOf("&c6=")+4,e.indexOf("&c7=")));var n=e.substring(e.indexOf("&c7=")+4,e.indexOf("&c8=")),i=e.substring(e.indexOf("&c8=")+4,e.indexOf("&c9=")),c=e.substring(e.indexOf("&c9=")+4,e.indexOf("&d0="));n||(n=0),i||(i=0),c||(c=0),document.getElementsByName("sint1")[n].checked=1,document.getElementsByName("sint2")[i].checked=1,document.getElementsByName("sint3")[c].checked=1,intsopen(),$("#grid").prop("checked",1==e.substring(e.indexOf("&d0=")+4,e.indexOf("&d1="))),$("#gridx").val(e.substring(e.indexOf("&d1=")+4,e.indexOf("&d2="))),$("#gridy").val(e.substring(e.indexOf("&d2=")+4,e.indexOf("&d3=")));var l=e.substring(e.indexOf("&g5=")+4,e.indexOf("&g6="));0!=l&&2!=l&&"M_E"!=l&&10!=l&&100!=l?($("#logskix").val(l),clrlog("x")):($("#logskix").val(""),0==l?document.getElementsByName("logskx")[0].checked=1:2==l?document.getElementsByName("logskx")[1].checked=1:"M_E"==l?document.getElementsByName("logskx")[2].checked=1:10==l?document.getElementsByName("logskx")[3].checked=1:100==l&&(document.getElementsByName("logskx")[4].checked=1));var t=e.substring(e.indexOf("&d3=")+4,e.indexOf("&d4="));0!=t&&2!=t&&"M_E"!=t&&10!=t&&100!=t?($("#logski").val(t),clrlog("")):(document.getElementById("logski").value="",0==t?document.getElementsByName("logsk")[0].checked=1:2==t?document.getElementsByName("logsk")[1].checked=1:"M_E"==t?document.getElementsByName("logsk")[2].checked=1:10==t?document.getElementsByName("logsk")[3].checked=1:100==t&&(document.getElementsByName("logsk")[4].checked=1)),$("#ta1").value=e.substring(e.indexOf("&d4=")+4,e.indexOf("&d5=")),$("#ta2").val(e.substring(e.indexOf("&d5=")+4,e.indexOf("&d6="))),$("#tb1").val(e.substring(e.indexOf("&d6=")+4,e.indexOf("&d7="))),$("#tb2").val(e.substring(e.indexOf("&d7=")+4,e.indexOf("&d8="))),$("#tc1").val(e.substring(e.indexOf("&d8=")+4,e.indexOf("&d9="))),$("#tc2").val(e.substring(e.indexOf("&d9=")+4,e.indexOf("&e0="))),$("#cint1").val(e.substring(e.indexOf("&e0=")+4,e.indexOf("&e1="))),$("#cint2").val(e.substring(e.indexOf("&e1=")+4,e.indexOf("&e2="))),$("#cint3").val(e.substring(e.indexOf("&e2=")+4,e.indexOf("&e3="))),$("#qq").val(e.substring(e.indexOf("&e3=")+4,e.indexOf("&e4="))),$("#bg").val(e.substring(e.indexOf("&e4=")+4,e.indexOf("&e5="))),$("#gapc").val(e.substring(e.indexOf("&e5=")+4,e.indexOf("&e6="))),$("#capt").val(e.substring(e.indexOf("&e6=")+4,e.indexOf("&e7="))),$("#linec").val(e.substring(e.indexOf("&e7=")+4,e.indexOf("&e8="))),$("#con0").val(e.substring(e.indexOf("&e8=")+4,e.indexOf("&e9="))),$("#con1").val(e.substring(e.indexOf("&e9=")+4,e.indexOf("&f0="))),$("#con2").val(e.substring(e.indexOf("&f0=")+4,e.indexOf("&f1="))),$("#anti").prop("checked",1==e.substring(e.indexOf("&f1=")+4,e.indexOf("&f2="))),$("#gamma").val(e.substring(e.indexOf("&f2=")+4,e.indexOf("&f3="))),$("#bri").val(e.substring(e.indexOf("&f3=")+4,e.indexOf("&f4="))),$("#cont").val(e.substring(e.indexOf("&f4=")+4,e.indexOf("&f5="))),$("#emb").prop("checked",1==e.substring(e.indexOf("&f5=")+4,e.indexOf("&f6="))),$("#blur").prop("checked",1==e.substring(e.indexOf("&f6=")+4,e.indexOf("&f7="))),$("#neg").prop("checked",1==e.substring(e.indexOf("&f7=")+4,e.indexOf("&f8="))),$("#gray").prop("checked",1==e.substring(e.indexOf("&f8=")+4,e.indexOf("&f9="))),$("#mean").prop("checked",1==e.substring(e.indexOf("&f9=")+4,e.indexOf("&g0="))),$("#edge").prop("checked",1==e.substring(e.indexOf("&g0=")+4,e.indexOf("&g1="))),$("#bf").val(e.substring(e.indexOf("&g1=")+4,e.indexOf("&g2="))),$("#pol").prop("checked",1==e.substring(e.indexOf("&g2=")+4,e.indexOf("&g3="))),$("#rotate").val(e.substring(e.indexOf("&g3=")+4,e.indexOf("&g4="))),$("#filetype").val(e.substring(e.indexOf("&g4=")+4,e.indexOf("&g5="))),$("#Y").val(e.substring(e.indexOf("&g6=")+4,e.indexOf("&g7="))),$("#selfcol0").val(e.substring(e.indexOf("&g7=")+4,e.indexOf("&g8="))),$("#selfcol1").val(e.substring(e.indexOf("&g8=")+4,e.indexOf("&g9="))),$("#selfcol2").val(e.substring(e.indexOf("&g9=")+4,e.indexOf("&h0="))),$("#thick").val(e.substring(e.indexOf("&h0=")+4,e.indexOf("&z"))),getgraph()}function clrlog(e){for(var n=0;n<5;n++)$("#logsk"+e)[n].checked=!1}function standard(){confirm("Set to standard display values?")&&($("#filetype").val(0),$("#bg").val(14),$("#capt").val(13),$("#linec").val(12),$("#gapc").val(14),$("#grid").checked=!0,$("#lines").prop("checked",!0),$("#numbers").prop("checked",!0),$("#dashes").prop("checked",!0),$("#frame").prop("checked",!1),$("#errors").prop("checked",!0),$("#anti").prop("checked",!0),$("#pol").prop("checked",!0),$("#bf").val(1),$("#gamma").val(1),$("#bri").val(0),$("#cont").val(0),$("#rotate").val(0),$("#emb").prop("checked",!1),$("#blur").prop("checked",!1),$("#neg").prop("checked",!1),$("#gray").prop("checked",!1),$("#mean").prop("checked",!1),$("#edge").prop("checked",!1),$("#width").val(500),$("#height").val(500),$("#thick").val(1),getgraph())}function getalign(e){var n=$("#qsize").val().replace(",",".");$("#rulex1").val(-n),$("#rulex2").val(n),$("#ruley1").val(-n),$("#ruley2").val(n),"a0"==e?($("#rulex1").val(0),$("#rulex2").val(2*n),$("#ruley1").val(0),$("#ruley2").val(2*n)):"a1"==e?($("#rulex1").val(-2*n),$("#rulex2").val(0),$("#ruley1").val(0),$("#ruley2").val(2*n)):"a2"==e?($("#rulex1").val(-2*n),$("#rulex2").val(0),$("#ruley1").val(-2*n),$("#ruley2").val(0)):"a3"==e?($("#rulex1").val(0),$("#rulex2").val(2*n),$("#ruley1").val(-2*n),$("#ruley2").val(0)):"b0"==e?($("#ruley1").val(0),$("#ruley2").val(2*n)):"b1"==e?($("#rulex1").val(-2*n),$("#rulex2").val(0)):"b2"==e?($("#ruley1").val(-2*n),$("#ruley2").val(0)):"b3"==e&&($("#rulex1").val(0),$("#rulex2").val(2*n)),getgraph()}function changeselfcol(e){$("#selfcolbg"+e).css("backgroundColor","#"+$("#selfcol"+e).val()),e<3&&$("#fl"+e).css("color","#"+$("#selfcol"+e).val())}function addline(){n++,html="<div id='Pdiv"+n+"' class='pline'>",html+="Name: <input class='w40' id='PName"+n+"' name='PName"+n+"' value='"+String.fromCharCode(n+79)+"'>",html+=" at (x=<input class='w40' id='PX"+n+"' name='PX"+n+"' value='0'>",html+="/y=<input class='w40' id='PY"+n+"' name='PY"+n+"' value='0'>)",html+="</div>",$("#eof").before(html),$("#delpoint").css("display","inline"),10==n&&$("#addpoint").css("display","none")}function delline(){$("#Pdiv"+n).remove(),n--,$("#addpoint").css("display","inline"),0==n&&$("#delpoint").css("display","none")}$(function(){n=0,getgraph(),$(document).tooltip(),$("#infobutton1").click(function(){$("#info1").toggle()}),$("#infobutton2").click(function(){$("#info2").toggle()}),$("#infobutton3").click(function(){$("#info3").toggle()}),$("#infobutton4").click(function(){$("#info4").toggle()}),$("#accordion").accordion({heightStyle:"content",autoHeight:!1}),$("#dialog").dialog({width:600,autoOpen:!1,buttons:[{text:"OK",click:function(){$(this).dialog("close")}}],title:"Plot options",modal:!1}).parent().appendTo($("#funcs")),$("#submit").click(function(e){$("#funcs").submit()}),$("#inputReset").click(function(e){standard(),e.preventDefault()}),$("#opendialog").click(function(e){$("#dialog").dialog("open"),e.preventDefault()}),$("#areset").click(function(e){getalign(0)}),$("#a0").click(function(e){getalign("a0")}),$("#a1").click(function(e){getalign("a1")}),$("#a2").click(function(e){getalign("a2")}),$("#a3").click(function(e){getalign("a3")}),$("#b0").click(function(e){getalign("b0")}),$("#b1").click(function(e){getalign("b1")}),$("#b2").click(function(e){getalign("b2")}),$("#b3").click(function(e){getalign("b3")}),$("#sint1f").click(function(e){intclose(1)}),$("#sint1d").click(function(e){intclose(1)}),$("#sint1i").click(function(e){intshow(1)}),$("#sint2f").click(function(e){intclose(2)}),$("#sint2d").click(function(e){intclose(2)}),$("#sint2i").click(function(e){intshow(2)}),$("#sint3f").click(function(e){intclose(3)}),$("#sint3d").click(function(e){intclose(3)}),$("#sint3i").click(function(e){intshow(3)}),$("#selfcol0").change(function(e){changeselfcol(0)}),$("#selfcol1").change(function(e){changeselfcol(1)}),$("#selfcol2").change(function(e){changeselfcol(2)}),$("#selfcol3").change(function(e){changeselfcol(3)}),$("#selfcol4").change(function(e){changeselfcol(4)}),$("#selfcol5").change(function(e){changeselfcol(5)}),$("#selfcol6").change(function(e){changeselfcol(6)}),$("#selfcol7").change(function(e){changeselfcol(7)}),$("#clearhull").click(function(e){$("#Y").val("Y"),$("#Y").focus()}),$("#clearsubst").click(function(e){$("#qq").val(""),$("#qq").focus()}),$("#qq").change(function(e){$("#qqsingle").val($("#qq").val())}),$("#addpoint").click(function(e){addline()}),$("#delpoint").click(function(e){delline()}),$(".logskx").each(function(){this.on("click",function(){$("#logskix").val("")})}),$(".logsk").each(function(){this.on("click",function(){$("#logski").val("")})}),$("#logskix").change(function(e){clrlog("x")}),$("#logski").change(function(e){clrlog("")}),$("#deci").change(function(e){$("#decis").val($("#deci").val())}),$("#calc1").click(function(e){$("#single1").val($("#formula1").val()),$("#inpval").focus()}),$("#calc2").click(function(e){$("#single1").val($("#formula2").val()),$("#inpval").focus()}),$("#calc3").click(function(e){$("#single1").val($("#formula3").val()),$("#inpval").focus()}),$("#calcreset").click(function(e){$("#single1").focus()}),$("#posval").click(function(e){$("#inpval").val("1 2 3 4 5 6 7 8 9 10")}),$("#negval").click(function(e){$("#inpval").val("-1 -2 -3 -4 -5 -6 -7 -8 -9 -10")}),$("#urlclear").click(function(e){$("#path").val(""),$("#shortpath").val(""),$("#path").focus()}),$("#urlselect").click(function(e){$("#path").focus(),$("#path").select()}),$("#loadgraph").click(function(e){loadg()})});
